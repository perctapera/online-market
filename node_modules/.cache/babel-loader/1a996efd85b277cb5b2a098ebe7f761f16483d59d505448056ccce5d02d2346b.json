{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\perci\\\\react_book\\\\OnlineMrkt\\\\online-market\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport { BrowserRouter as Router, Routes, Route } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport Header from \"./components/Header\";\nimport Products from \"./components/Products\";\nimport ProductDetail from \"./components/ProductDetail\";\nimport Profile from \"./components/Profile\";\nimport CartPage from \"./components/CartPage\";\nimport { CartProvider } from \"./components/cartContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [user, setUser] = useState(null);\n  const [cartItems, setCartItems] = useState([]);\n  const removeFromCart = productId => {\n    setCartItems(prevItems => prevItems.filter(item => item.id !== productId));\n  };\n  const addToCart = product => {\n    setCartItems(prevItems => {\n      const existing = prevItems.find(item => item.id === product.id);\n      if (existing) {\n        return prevItems.map(item => item.id === product.id ? {\n          ...item,\n          quantity: item.quantity + 1\n        } : item);\n      } else {\n        return [...prevItems, {\n          ...product,\n          quantity: 1\n        }];\n      }\n    });\n  };\n  const updateQuantity = (productId, newQuantity) => {\n    setCartItems(prevItems => prevItems.map(item => item.id === productId ? {\n      ...item,\n      quantity: newQuantity < 1 ? 1 : newQuantity\n    } : item));\n  };\n\n  // Load user from localStorage\n  useEffect(() => {\n    const storedUser = localStorage.getItem(\"userProfile\");\n    if (storedUser) {\n      setUser(JSON.parse(storedUser));\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(CartProvider, {\n    children: [\" \", /*#__PURE__*/_jsxDEV(Router, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"app-container\",\n        children: [/*#__PURE__*/_jsxDEV(Header, {\n          user: user,\n          setUser: setUser,\n          cartItems: cartItems,\n          setCartItems: setCartItems\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Routes, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/\",\n            element: /*#__PURE__*/_jsxDEV(Products, {\n              cartItems: cartItems,\n              addToCart: addToCart,\n              updateQuantity: updateQuantity,\n              removeFromCart: removeFromCart\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 46\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/product/:id\",\n            element: /*#__PURE__*/_jsxDEV(ProductDetail, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 57\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/profile\",\n            element: user ? /*#__PURE__*/_jsxDEV(Profile, {\n              user: user,\n              setUser: setUser\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 60\n            }, this) : /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Please log in\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 104\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/cart\",\n            element: /*#__PURE__*/_jsxDEV(CartPage, {\n              cartItems: cartItems,\n              removeFromCart: removeFromCart,\n              updateQuantity: updateQuantity\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 50\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n}\n_s(App, \"fAfEeDjMGUCX3C7aZd/G7htobeU=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["BrowserRouter","Router","Routes","Route","useState","useEffect","Header","Products","ProductDetail","Profile","CartPage","CartProvider","jsxDEV","_jsxDEV","App","_s","user","setUser","cartItems","setCartItems","removeFromCart","productId","prevItems","filter","item","id","addToCart","product","existing","find","map","quantity","updateQuantity","newQuantity","storedUser","localStorage","getItem","JSON","parse","children","className","fileName","_jsxFileName","lineNumber","columnNumber","path","element","_c","$RefreshReg$"],"sources":["C:/Users/perci/react_book/OnlineMrkt/online-market/src/App.js"],"sourcesContent":["import { BrowserRouter as Router, Routes, Route } from \"react-router-dom\";\r\nimport { useState, useEffect } from \"react\";\r\nimport \"./App.css\";\r\nimport Header from \"./components/Header\";\r\nimport Products from \"./components/Products\";\r\nimport ProductDetail from \"./components/ProductDetail\";\r\nimport Profile from \"./components/Profile\";\r\nimport CartPage from \"./components/CartPage\";\r\nimport { CartProvider } from \"./components/cartContext\";\r\n\r\nfunction App() {\r\n    const [user, setUser] = useState(null);\r\n\r\n    const [cartItems, setCartItems] = useState([]);\r\n\r\n    const removeFromCart = (productId) => {\r\n        setCartItems(prevItems => prevItems.filter(item => item.id !== productId));\r\n    };\r\n\r\n    const addToCart = (product) => {\r\n        setCartItems(prevItems => {\r\n            const existing = prevItems.find(item => item.id === product.id);\r\n            if (existing) {\r\n                return prevItems.map(item =>\r\n                    item.id === product.id ? { ...item, quantity: item.quantity + 1 } : item\r\n                );\r\n            } else {\r\n                return [...prevItems, { ...product, quantity: 1 }];\r\n            }\r\n        });\r\n    };\r\n\r\n    const updateQuantity = (productId, newQuantity) => {\r\n        setCartItems(prevItems =>\r\n            prevItems.map(item =>\r\n                item.id === productId\r\n                    ? { ...item, quantity: newQuantity < 1 ? 1 : newQuantity }\r\n                    : item\r\n            )\r\n        );\r\n    };\r\n    \r\n\r\n    // Load user from localStorage\r\n    useEffect(() => {\r\n        const storedUser = localStorage.getItem(\"userProfile\");\r\n        if (storedUser) {\r\n            setUser(JSON.parse(storedUser));\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <CartProvider> {/* ✅ Wrap the whole app in CartProvider */}\r\n        <Router>\r\n            <div className=\"app-container\">\r\n                {/* ✅ Pass user and setUser to Header */}\r\n                <Header user={user} setUser={setUser} cartItems={cartItems} setCartItems={setCartItems} />\r\n                <Routes>\r\n                    <Route path=\"/\" element={<Products cartItems={cartItems} addToCart={addToCart} updateQuantity={updateQuantity} removeFromCart={removeFromCart} />} />\r\n                    <Route path=\"/product/:id\" element={<ProductDetail />} />\r\n                    <Route path=\"/profile\" element={user ? <Profile user={user} setUser={setUser} /> : <h2>Please log in</h2>} />\r\n                    <Route path=\"/cart\" element={<CartPage cartItems={cartItems} removeFromCart={removeFromCart} updateQuantity={updateQuantity} />} />\r\n                </Routes>\r\n            </div>\r\n        </Router>\r\n        </CartProvider> \r\n    );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}