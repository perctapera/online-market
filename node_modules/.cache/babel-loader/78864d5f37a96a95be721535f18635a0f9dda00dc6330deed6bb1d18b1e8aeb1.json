{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\perci\\\\react_book\\\\OnlineMrkt\\\\online-market\\\\src\\\\components\\\\CartContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// CartContext.js - Provides global cart state\nimport React, { createContext, useState, useContext } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartContext = /*#__PURE__*/createContext();\nexport function CartProvider({\n  children\n}) {\n  _s();\n  const [cartItems, setCartItems] = useState([]);\n  const [orderNumber, setOrderNumber] = useState(null);\n  const addToCart = item => {\n    setCartItems(prevItems => {\n      const existingItem = prevItems.find(i => i.id === item.id);\n      if (existingItem) {\n        return prevItems.map(i => i.id === item.id ? {\n          ...i,\n          quantity: i.quantity + 1\n        } : i);\n      }\n      return [...prevItems, {\n        ...item,\n        quantity: 1\n      }];\n    });\n  };\n  const removeFromCart = id => {\n    setCartItems(prevItems => prevItems.filter(item => item.id !== id));\n  };\n  const updateQuantity = (id, quantity) => {\n    setCartItems(prevItems => prevItems.map(item => item.id === id ? {\n      ...item,\n      quantity\n    } : item));\n  };\n  const checkout = () => {\n    const dummyOrderNumber = \"ORD-\" + Math.floor(Math.random() * 1000000);\n    setOrderNumber(dummyOrderNumber);\n    setCartItems([]); // Clear cart after checkout\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: {\n      cartItems,\n      addToCart,\n      removeFromCart,\n      updateQuantity,\n      checkout,\n      orderNumber\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }, this);\n}\n_s(CartProvider, \"b1jR8Ci1OzgPmsI9TvxIjr7Zo80=\");\n_c = CartProvider;\nexport function useCart() {\n  _s2();\n  return useContext(CartContext);\n}\n_s2(useCart, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["React","createContext","useState","useContext","jsxDEV","_jsxDEV","CartContext","CartProvider","children","_s","cartItems","setCartItems","orderNumber","setOrderNumber","addToCart","item","prevItems","existingItem","find","i","id","map","quantity","removeFromCart","filter","updateQuantity","checkout","dummyOrderNumber","Math","floor","random","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useCart","_s2","$RefreshReg$"],"sources":["C:/Users/perci/react_book/OnlineMrkt/online-market/src/components/CartContext.js"],"sourcesContent":["// CartContext.js - Provides global cart state\r\nimport React, { createContext, useState, useContext } from \"react\";\r\n\r\nconst CartContext = createContext();\r\n\r\nexport function CartProvider({ children }) {\r\n    const [cartItems, setCartItems] = useState([]);\r\n    const [orderNumber, setOrderNumber] = useState(null);\r\n\r\n    const addToCart = (item) => {\r\n        setCartItems((prevItems) => {\r\n            const existingItem = prevItems.find((i) => i.id === item.id);\r\n            if (existingItem) {\r\n                return prevItems.map((i) =>\r\n                    i.id === item.id ? { ...i, quantity: i.quantity + 1 } : i\r\n                );\r\n            }\r\n            return [...prevItems, { ...item, quantity: 1 }];\r\n        });\r\n    };\r\n\r\n    const removeFromCart = (id) => {\r\n        setCartItems((prevItems) => prevItems.filter((item) => item.id !== id));\r\n    };\r\n\r\n    const updateQuantity = (id, quantity) => {\r\n        setCartItems((prevItems) =>\r\n            prevItems.map((item) =>\r\n                item.id === id ? { ...item, quantity } : item\r\n            )\r\n        );\r\n    };\r\n\r\n    const checkout = () => {\r\n        const dummyOrderNumber = \"ORD-\" + Math.floor(Math.random() * 1000000);\r\n        setOrderNumber(dummyOrderNumber);\r\n        setCartItems([]); // Clear cart after checkout\r\n    };\r\n\r\n    return (\r\n        <CartContext.Provider value={{ cartItems, addToCart, removeFromCart, updateQuantity, checkout, orderNumber }}>\r\n            {children}\r\n        </CartContext.Provider>\r\n    );\r\n}\r\n\r\nexport function useCart() {\r\n    return useContext(CartContext);\r\n}\r\n"],"mappings":";;;AAAA;AACA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,QAAQ,EAAEC,UAAU,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnE,MAAMC,WAAW,gBAAGL,aAAa,CAAC,CAAC;AAEnC,OAAO,SAASM,YAAYA,CAAC;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EACvC,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACU,WAAW,EAAEC,cAAc,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EAEpD,MAAMY,SAAS,GAAIC,IAAI,IAAK;IACxBJ,YAAY,CAAEK,SAAS,IAAK;MACxB,MAAMC,YAAY,GAAGD,SAAS,CAACE,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACC,EAAE,KAAKL,IAAI,CAACK,EAAE,CAAC;MAC5D,IAAIH,YAAY,EAAE;QACd,OAAOD,SAAS,CAACK,GAAG,CAAEF,CAAC,IACnBA,CAAC,CAACC,EAAE,KAAKL,IAAI,CAACK,EAAE,GAAG;UAAE,GAAGD,CAAC;UAAEG,QAAQ,EAAEH,CAAC,CAACG,QAAQ,GAAG;QAAE,CAAC,GAAGH,CAC5D,CAAC;MACL;MACA,OAAO,CAAC,GAAGH,SAAS,EAAE;QAAE,GAAGD,IAAI;QAAEO,QAAQ,EAAE;MAAE,CAAC,CAAC;IACnD,CAAC,CAAC;EACN,CAAC;EAED,MAAMC,cAAc,GAAIH,EAAE,IAAK;IAC3BT,YAAY,CAAEK,SAAS,IAAKA,SAAS,CAACQ,MAAM,CAAET,IAAI,IAAKA,IAAI,CAACK,EAAE,KAAKA,EAAE,CAAC,CAAC;EAC3E,CAAC;EAED,MAAMK,cAAc,GAAGA,CAACL,EAAE,EAAEE,QAAQ,KAAK;IACrCX,YAAY,CAAEK,SAAS,IACnBA,SAAS,CAACK,GAAG,CAAEN,IAAI,IACfA,IAAI,CAACK,EAAE,KAAKA,EAAE,GAAG;MAAE,GAAGL,IAAI;MAAEO;IAAS,CAAC,GAAGP,IAC7C,CACJ,CAAC;EACL,CAAC;EAED,MAAMW,QAAQ,GAAGA,CAAA,KAAM;IACnB,MAAMC,gBAAgB,GAAG,MAAM,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,OAAO,CAAC;IACrEjB,cAAc,CAACc,gBAAgB,CAAC;IAChChB,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC;EACtB,CAAC;EAED,oBACIN,OAAA,CAACC,WAAW,CAACyB,QAAQ;IAACC,KAAK,EAAE;MAAEtB,SAAS;MAAEI,SAAS;MAAES,cAAc;MAAEE,cAAc;MAAEC,QAAQ;MAAEd;IAAY,CAAE;IAAAJ,QAAA,EACxGA;EAAQ;IAAAyB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACS,CAAC;AAE/B;AAAC3B,EAAA,CAvCeF,YAAY;AAAA8B,EAAA,GAAZ9B,YAAY;AAyC5B,OAAO,SAAS+B,OAAOA,CAAA,EAAG;EAAAC,GAAA;EACtB,OAAOpC,UAAU,CAACG,WAAW,CAAC;AAClC;AAACiC,GAAA,CAFeD,OAAO;AAAA,IAAAD,EAAA;AAAAG,YAAA,CAAAH,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}